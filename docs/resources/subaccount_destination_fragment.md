---
page_title: "btp_subaccount_destination_fragment Resource - terraform-provider-btp"
subcategory: ""
description: |-
  Manages a destination fragment in a SAP BTP subaccount or in the scope of a specific service instance.
  Tip:
  You must have the appropriate connectivity and destination permissions, such as:
  Subaccount AdministratorDestination AdministratorConnectivity and Destination Administrator
  To learn more about these roles, see the SAP Help documentation:https://help.sap.com/docs/connectivity/sap-btp-connectivity-cf/user-roles?q=role+collection
  Scope:
  Subaccount-level fragment: Specify only the 'subaccount_id' and 'name' attribute.Service instance-level fragment: Specify the 'subaccount_id', 'service_instance_id' and 'name' attributes.
  Notes:
  'service_instance_id' is optional. When omitted, the fragment is created at the subaccount level.The fragment content is defined using the 'fragment_content' map and the API requires the 'FragmentName' field, which is automatically handled by the provider.
---

# btp_subaccount_destination_fragment (Resource)

Manages a destination fragment in a SAP BTP subaccount or in the scope of a specific service instance.

__Tip:__
You must have the appropriate connectivity and destination permissions, such as:
- Subaccount Administrator  
- Destination Administrator  
- Connectivity and Destination Administrator

To learn more about these roles, see the SAP Help documentation:  
https://help.sap.com/docs/connectivity/sap-btp-connectivity-cf/user-roles?q=role+collection

__Scope:__
- **Subaccount-level fragment**: Specify only the 'subaccount_id' and 'name' attribute.
- **Service instance-level fragment**: Specify the 'subaccount_id', 'service_instance_id' and 'name' attributes.

__Notes:__
- 'service_instance_id' is optional. When omitted, the fragment is created at the subaccount level.
- The fragment content is defined using the 'fragment_content' map and the API requires the 'FragmentName' field, which is automatically handled by the provider.

## Example Usage

```terraform
# create a subaccount for a subaccount
resource "btp_subaccount_destination_fragment" "sdf" {
  subaccount_id = "6aa64c2f-38c1-49a9-b2e8-cf9fea769b7f"
  name          = "my-fragment"
  fragment_content = {
    "key1" = "value1"
  }
}


# create a destination fragment for a subaccount and service instance
resource "btp_subaccount_destination_fragment" "sdf" {
  subaccount_id       = "6aa64c2f-38c1-49a9-b2e8-cf9fea769b7f"
  service_instance_id = "bc8a216f-1184-49dc-b4b4-17cfe2828965"
  name                = "my-fragment"
  fragment_content = {
    "key1" = "value1"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the destination fragment.
- `subaccount_id` (String) The ID of the subaccount.

### Optional

- `fragment_content` (Map of String) The content of the destination fragment.
- `service_instance_id` (String) The ID of the service instance.

### Read-Only

- `id` (String, Deprecated) The ID of the destination fragment used for import operations.

## Import

Import is supported using the following syntax:

```terraform
# To import destination fragment on the subaccount level, use the following syntax:
# terraform import btp_subaccount_destination_fragment.<resource_name> '<subaccount_id>,<name>'
terraform import btp_subaccount_destination_fragment.sdf '6aa64c2f-38c1-49a9-b2e8-cf9fea769b7f,test_fragment'

# To import destination fragment on the service instance level, use the following syntax:
# terraform import btp_subaccount_destination_fragment.<resource_name> '<subaccount_id>,<name>,<service_instance_id>'
terraform import btp_subaccount_destination_fragment.sdf '6aa64c2f-38c1-49a9-b2e8-cf9fea769b7f,test_fragment,6a55f158-41b5-4e63-aa77-84089fa0ab98'

#terraform import using id attribute in import block
#On Subaccount Level
import {
  to = btp_subaccount_destination_fragment.<resource_name>
  id = "<subaccount_id>,<name>"
}
#On Service Instance Level
import {
  to = btp_subaccount_destination_fragment.<resource_name>
  id = "<subaccount_id>,<name>,<service_instance_id>"
}

# this resource supports import using identity attribute from Terraform version 1.12 or higher
#On Subaccount Level
import {
to =  btp_subaccount_destination_fragment.<resource_name>
identity = {
  name  = "<name>"
  subaccount_id = "<subaccount_id>"
  }
}

#On Service Instance Level
import {
to =  btp_subaccount_destination_fragment.<resource_name>
identity = {
  name  = "<name>"
  subaccount_id = "<subaccount_id>"
  service_instance_id = "<service_instance_id>"
  }
}
```
